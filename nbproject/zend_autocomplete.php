<?php
// auto-generated by Kohana-Zend Autocomplete
// Developed by Peter Bowyer, Maple Design (http://www.mapledesign.co.uk/code/
// Last generated: 2010-01-05 12:00:57 ART

// File /Users/bicho44/Sites/tdf/system/controllers/captcha.php:
Class Captcha extends Captcha_Controller {}

// File /Users/bicho44/Sites/tdf/system/controllers/template.php:
Class Your extends Your_Controller { function __construct(); }

// File /Users/bicho44/Sites/tdf/system/helpers/arr.php:
Class arr extends arr_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/cookie.php:
Class cookie extends cookie_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/date.php:
Class date extends date_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/download.php:
Class download extends download_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/email.php:
Class email extends email_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/expires.php:
Class expires extends expires_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/feed.php:
Class feed extends feed_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/file.php:
Class file extends file_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/form.php:
Class form extends form_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/format.php:
Class format extends format_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/html.php:
Class html extends html_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/inflector.php:
Class inflector extends inflector_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/num.php:
Class num extends num_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/remote.php:
Class remote extends remote_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/request.php:
Class request extends request_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/security.php:
Class security extends security_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/text.php:
Class text extends text_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/upload.php:
Class upload extends upload_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/url.php:
Class url extends url_Core {}

// File /Users/bicho44/Sites/tdf/system/helpers/valid.php:
Class valid extends valid_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Calendar.php:
Class Calendar extends Calendar_Core { function __construct($month = NULL, $year = NULL); }

// File /Users/bicho44/Sites/tdf/system/libraries/Calendar_Event.php:
Class Calendar_Event extends Calendar_Event_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Captcha.php:
Class Captcha extends Captcha_Core { function __construct($group = NULL); }

// File /Users/bicho44/Sites/tdf/system/libraries/Database.php:
Class Database extends Database_Core { function __construct($config = array()); }

// File /Users/bicho44/Sites/tdf/system/libraries/Database234.php:
Class Database extends Database_Core { function __construct($config = array()); }

// File /Users/bicho44/Sites/tdf/system/libraries/Encrypt.php:
Class Encrypt extends Encrypt_Core { function __construct($config = FALSE); }

// File /Users/bicho44/Sites/tdf/system/libraries/Input.php:
Class Input extends Input_Core { function __construct(); }

// File /Users/bicho44/Sites/tdf/system/libraries/Model.php:
Class Model extends Model_Core { function __construct(); }

// File /Users/bicho44/Sites/tdf/system/libraries/ORM.php:
Class ORM extends ORM_Core { function __construct($id = NULL); }

// File /Users/bicho44/Sites/tdf/system/libraries/ORM_Iterator.php:
Class ORM_Iterator extends ORM_Iterator_Core { function __construct(ORM $model, Database_Result $result); }

// File /Users/bicho44/Sites/tdf/system/libraries/ORM_Tree.php:
Class ORM_Tree extends ORM_Tree_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/ORM_Versioned.php:
Class ORM_Versioned extends ORM_Versioned_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Pagination.php:
Class Pagination extends Pagination_Core { function __construct($config = array()); }

// File /Users/bicho44/Sites/tdf/system/libraries/Profiler.php:
Class Profiler extends Profiler_Core { function __construct(); }

// File /Users/bicho44/Sites/tdf/system/libraries/Profiler_Table.php:
Class Profiler_Table extends Profiler_Table_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Router.php:
Class Router extends Router_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Session.php:
Class Session extends Session_Core { function __construct(); }

// File /Users/bicho44/Sites/tdf/system/libraries/Tagcloud.php:
Class Tagcloud extends Tagcloud_Core { function __construct(array $elements, $min_size = NULL, $max_size = NULL, $shuffle = FALSE); }

// File /Users/bicho44/Sites/tdf/system/libraries/URI.php:
Class URI extends URI_Core {}

// File /Users/bicho44/Sites/tdf/system/libraries/Validation.php:
Class Validation extends Validation_Core { function __construct(array $array); }

// File /Users/bicho44/Sites/tdf/system/libraries/View.php:
Class View extends View_Core { function __construct($name = NULL, $data = NULL, $type = NULL); }

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Actionfield.php:
Class Actionfield extends Actionfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Checkboxfield.php:
Class Checkboxfield extends Checkboxfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Datefield.php:
Class Datefield extends Datefield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Dropdownfield.php:
Class Dropdownfield extends Dropdownfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Field.php:
Class Field extends Field_Core { function __construct($name); }

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Grid.php:
Class Grid extends Grid_Core { function __construct($template_path = null); }

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Inputfield.php:
Class Inputfield extends Inputfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Passwordfield.php:
Class Passwordfield extends Passwordfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Radiofield.php:
Class Radiofield extends Radiofield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Textareafield.php:
Class Textareafield extends Textareafield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Textfield.php:
Class Textfield extends Textfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/yag/libraries/Uploadfield.php:
Class Uploadfield extends Uploadfield_Core {}

// File /Users/bicho44/Sites/tdf/modules/debug_toolbar/libraries/DebugToolbar.php:
Class DebugToolbar extends DebugToolbar_Core {}

// File /Users/bicho44/Sites/tdf/modules/formo/controllers/formo_demo.php:
Class Formo_demo extends Formo_demo_Controller { function __construct(); }

// File /Users/bicho44/Sites/tdf/modules/formo/libraries/Formo.php:
Class Formo extends Formo_Core { function __construct($name='formo',$type=''); }

// File /Users/bicho44/Sites/tdf/modules/formo/libraries/Formo_Element.php:
Class Formo_Element extends Formo_Element_Core { function __construct($name='',$info=array()); }

// File /Users/bicho44/Sites/tdf/modules/formo/libraries/Formo_Group.php:
Class Formo_Group extends Formo_Group_Core { function __construct($name, $values, $info=array()); }

// File /Users/bicho44/Sites/tdf/modules/simple_auth/libraries/Simple_Auth.php:
Class Simple_Auth extends Simple_Auth_Core { function __construct($config = array()); }

// File /Users/bicho44/Sites/tdf/application/controllers/about.php:
Class About extends About_Controller {}

// File /Users/bicho44/Sites/tdf/application/controllers/calles.php:
Class Calles extends Calles_Controller { function __construct() {

	parent::__construct();

	if (Simple_Auth::instance()->logged_in(NULL)); }

// File /Users/bicho44/Sites/tdf/application/controllers/datos.php:
Class Datos extends Datos_Controller { function __construct() {

        parent::__construct();

        if (Simple_Auth::instance()->logged_in(NULL)) {
            $this->user = Simple_Auth::instance()->get_user();
        } else {
            $this->user = "Por favor Logueese";
        }

        // if (!isset($_SESSION['cat'])) $_SESSION['cat'] = 0;
        if (isset($_GET['cat'])) $_SESSION['cat'] = $_GET['cat'];

        if (!isset($_SESSION['localidad'])) $_SESSION['localidad'] = 0;

        if (isset($_GET['localidad'])) $_SESSION['localidad'] = $_GET['localidad'];

        if ($_SESSION['localidad']!=0) $this->ciudad = array('localidad_id'=>$_SESSION['localidad']);

        if (!isset($_SESSION['orden']) OR $_SESSION['orden']=='' ) $_SESSION['orden'] = 'fechamodificado';

        if (isset($_GET['orden'])) $_SESSION['orden'] = $_GET['orden'];

        if ($_SESSION['orden']=='last') $_SESSION['orden']='fechamodificado';

        switch ($_SESSION['orden']) {
            case 'calle':
                $this->orden = array($_SESSION['orden']=>'ASC', 'nro'=>'ASC');
                break;
            case 'nombre':
                $this->orden = array($_SESSION['orden']=>'ASC');
                break;
            
            default:
                $this->orden = array($_SESSION['orden']=>'DESC');
                break;
        }

        /*if (isset($_SESSION['orden']) AND $_SESSION['orden']!='fechamodificado' ) {
            $this->orden = array($_SESSION['orden']=>'ASC');
        } else {
            $_SESSION['orden']  = 'fechamodificado';
            $this->orden = array($_SESSION['orden']=>'DESC');
        }*/

        $this->localidad = ORM::factory('localidad',$_SESSION['localidad']);
        $this->categoria = ORM::factory('categoria',$_SESSION['cat']);
    }

    /**
     * index function.
     * redirecciona a /pages, para el paginado.
     * @access public
     * @return void
     */
    public function index() {
    // No page number supplied, so def
        url::redirect('datos/page/1');
    }


    /**
     * Page function.
     *
     * @TODO Verificar que no es muy DRY que digamos
     *
     * @access public
     * @return void
     */
    public function page($pagenum) {

    //if (!isset($_SESSION['request'])) unset($_SESSION['request']);
        $_SESSION['request'] = $this->uri->string();

        if (isset($_SESSION['urledit'])) {
            unset($_SESSION['urledit']);
        }
        //if (isset($_GET['order'])) $this->order = $_GET['order'];

        $this->template->title = 'Administracion :: Datos';
        $this->template->data = new View('pages/datos');
        $this->template->data->menu = new View('datos/menudatos');
        //$this->template->data->gets =
        if(!empty($this->messages)) $this->template->messages = $this->messages;

        if ( isset($_GET['searchstring'])) {

            $searchstring = strtolower($_GET['searchstring']);
            $this->template->data->menu->searchstring = $searchstring;

            if($_SESSION['cat']!=0) {

            // NO estoy seguro de esto, pero me permite buscar por ciudad
                $datos = ORM::factory('dato'); }

// File /Users/bicho44/Sites/tdf/application/controllers/default.php:
Class Default extends Default_Controller {}

// File /Users/bicho44/Sites/tdf/application/controllers/listados.php:
Class Listados extends Listados_Controller { function __construct() {

        parent::__construct();

        if (Simple_Auth::instance()->logged_in(NULL)) {
            $this->user = Simple_Auth::instance()->get_user();
        }
        else {
            $this->user = "Por favor Logueese";
        }

        // if (!isset($_SESSION['cat'])) $_SESSION['cat'] = 0;
        if (isset($_GET['cat'])) $_SESSION['cat'] = $_GET['cat'];
        if (isset($_GET['localidad'])) $_SESSION['localidad'] = $_GET['localidad'];

        $this->localidad = ORM::factory('localidad',$_SESSION['localidad'])->select_list();
        $this->categoria = ORM::factory('categoria',$_SESSION['cat'])->select_list();

    }
    /**
     * Indice
     * Entrada default donde se abre el panel de export de datos
     * No tiene retornos
     */
    public function index() {
        if (isset($_SESSION['request'])) unset($_SESSION['request']);

        if (!$_POST) {

            $this->template->title = 'Administracion :: Exportar Datos';

            $this->template->data = new View('pages/export');
            $this->template->data->title = $this->template->title;
            $this->template->data->categoria = $this->categoria;
            $this->template->data->localidad = $this->localidad;

        }
        else {
            $this->auto_render=FALSE;

            $this->tipo = $_POST['tipo_listado'];
            $this->tagL = $_POST['marc_left'];
            $this->tagR = $_POST['marc_right'];

            $this->cat = ORM::factory('categoria', $_POST['categoria_id']);
            $this->loc = ORM::factory('localidad', $_POST['localidad_id']);

            switch ($this->tipo) {
                case 'alfabetico':
                    $this->tag = 'pstyle:alfa';
                    $this->listadoAlfabetico();
                    break;
                case 'rubros':
                    $this->tag = 'pstyle:rubro';
                    $this->listadoRubros();
                    break;
                case 'tematicos':
                    $this->tag = 'pstyle:rubro';
                    $this->listadoTematicos();
                    break;
                case 'mails':
                    $this->tag = 'pstyle:email';
                    $this->listadoExtras(4);
                    break;
                case 'webs':
                    $this->tag = 'pstyle:web';
                    $this->listadoExtras(5);
                    break;
                case 'mailwebs':
                    $this->tag = 'pstyle:web';
                    $this->listadoExtras(5);
                    break;
                default:
                    $this->listadoMamotreto();
                    break;
            }
        }

    }
    /**
     * Listado Mamotreto
     * Exporta un listado con TODA la data de la base de datos
     * @return <type>
     */
    public function listadoMamotreto() {
        return;
    }
    /**
     * Listado de Mail y Webs
     * Exporta el listado de Mails y Webs
     * No funciona correctamente
     *
     */
    public function listadoMailWebs() {
        $datos = ORM::factory('dato'); }

// File /Users/bicho44/Sites/tdf/application/controllers/listados2.php:
Class Listados extends Listados_Controller { function __construct() {

        parent::__construct();

        if (Simple_Auth::instance()->logged_in(NULL)) {
            $this->user = Simple_Auth::instance()->get_user();
        }
        else {
            $this->user = "Por favor Logueese";
        }

        // if (!isset($_SESSION['cat'])) $_SESSION['cat'] = 0;
        if (isset($_GET['cat'])) $_SESSION['cat'] = $_GET['cat'];
        if (isset($_GET['localidad'])) $_SESSION['localidad'] = $_GET['localidad'];

        $this->localidad = ORM::factory('localidad',$_SESSION['localidad'])->select_list();
        $this->categoria = ORM::factory('categoria',$_SESSION['cat'])->select_list();

    }
    /**
     * Indice
     * Entrada default donde se abre el panel de export de datos
     * No tiene retornos
     */
    public function index() {
        if (isset($_SESSION['request'])) unset($_SESSION['request']);

        if (!$_POST) {

            $this->template->title = 'Administracion :: Exportar Datos';

            $this->template->data = new View('pages/export');
            $this->template->data->title = $this->template->title;
            $this->template->data->categoria = $this->categoria;
            $this->template->data->localidad = $this->localidad;

        }
        else {
            $this->auto_render=FALSE;

            $this->tipo = $_POST['tipo_listado'];
            $this->tagL = $_POST['marc_left'];
            $this->tagR = $_POST['marc_right'];

            $this->cat = ORM::factory('categoria', $_POST['categoria_id']);
            $this->loc = ORM::factory('localidad', $_POST['localidad_id']);

            switch ($this->tipo) {
                case 'alfabetico':
                    $this->tag = 'pstyle:alfa';
                    $this->listadoAlfabetico();
                    break;
                case 'rubros':
                    $this->tag = 'pstyle:rubro';
                    $this->listadoRubros();
                    break;
                case 'tematicos':
                    $this->tag = 'pstyle:rubro';
                    $this->listadoTematicos();
                    break;
                case 'mails':
                    $this->tag = 'pstyle:email';
                    $this->listadoExtras(4);
                    break;
                case 'webs':
                    $this->tag = 'pstyle:web';
                    $this->listadoExtras(5);
                    break;
                case 'mailwebs':
                    $this->tag = 'pstyle:web';
                    $this->listadoExtras(5);
                    break;
                default:
                    $this->listadoMamotreto();
                    break;
            }
        }

    }
    /**
     * Listado Mamotreto
     * Exporta un listado con TODA la data de la base de datos
     * @return <type>
     */
    public function listadoMamotreto() {
        return;
    }
    /**
     * Listado de Mail y Webs
     * Exporta el listado de Mails y Webs
     * No funciona correctamente
     *
     */
    public function listadoMailWebs() {
        $datos = ORM::factory('dato'); }

// File /Users/bicho44/Sites/tdf/application/controllers/login.php:
Class Login extends Login_Controller { function __construct() {

		parent::__construct();

		if (Simple_Auth::instance()->logged_in(NULL)); }

// File /Users/bicho44/Sites/tdf/application/controllers/loginlogin.php:
Class Login extends Login_Controller {}

// File /Users/bicho44/Sites/tdf/application/controllers/rubros.php:
Class Rubros extends Rubros_Controller { function __construct() {

        parent::__construct();

        if (Simple_Auth::instance()->logged_in(NULL)); }

// File /Users/bicho44/Sites/tdf/application/controllers/website.php:
Class Website extends Website_Controller { function __construct() {

		parent::__construct();
                
                // Inicio de Session
		$this->session = Session::instance();
                // Si la variable cat no está definida, definirla
                if (!isset($_SESSION['cat'])) $_SESSION['cat'] = 0;
                if (!isset($_SESSION['localidad'])) $_SESSION['localidad'] = 0;

		$this->template->links = array (
			'Acerca de IMGListados'=>'about',
			'Datos'=>'datos',
			'Rubros'=>'rubros',
			
                        'Exportar Listados'=>'listados'
		 );

		$this->template->footer = 'Copyright '.$this->thiYear ($this->y).' - '.html::anchor('http://www.imgdigital.com.ar','IMG Digital',array('target'=>'_blank')) .'- '.html::anchor('http://www.imgdigital.com.ar/imglistados','IMGListados', array('target'=>'_blank'));

		$this->template->login = new View('login');

                // Da acceso a todos los controladores la base de datos
		$this->db = Database::instance();

                //Listado de Categorías
		$this->template->cats = ORM::factory('categoria')->select_list();

                //Listado de Localidades
                $this->template->localidades = ORM::factory('localidad')->select_list();
                
		//$this->profiler = new Profiler;

	}

	public function index(){
		if ( ! is_object($this->user)); }

// File /Users/bicho44/Sites/tdf/application/controllers/zend_autocomplete.php:
Class Zend_autocomplete extends Zend_autocomplete_Controller {}

// File /Users/bicho44/Sites/tdf/application/helpers/javascript.php:
Class javascript extends javascript_Core {}

